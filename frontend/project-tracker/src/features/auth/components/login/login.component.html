<div class="container-fluid d-flex align-items-center justify-content-center min-vh-100 bg-light">
  <div class="card shadow-sm" style="width: 100%; max-width: 400px;">
    <div class="card-body p-5">
      <!-- Header -->
      <div class="text-center mb-4">
        <h2 class="card-title mb-2">
          {{ 'auth.login' | translate }}
        </h2>
        <p class="text-muted small">
          {{ 'auth.enterCredentials' | translate }}
        </p>
      </div>

           <!-- Login form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
        <!-- Email field -->
        <div class="mb-3">
          <label for="email" class="form-label">
            {{ 'auth.email' | translate }}
          </label>
          <input 
            type="email" 
            class="form-control" 
            [class.is-invalid]="loginForm.get('email')?.touched && loginForm.get('email')?.invalid"
            id="email"
            formControlName="email"
            [placeholder]="'auth.email' | translate"
            [attr.aria-label]="'auth.email' | translate"
            autocomplete="email">
          
          @if (getFieldError('email')) {
            <div class="invalid-feedback d-block">
              {{ getFieldError('email') }}
            </div>
          }
        </div>

        <!-- Password field -->
        <div class="mb-3">
          <label for="password" class="form-label">
            {{ 'auth.password' | translate }}
          </label>
          <input 
            type="password" 
            class="form-control" 
            [class.is-invalid]="loginForm.get('password')?.touched && loginForm.get('password')?.invalid"
            id="password"
            formControlName="password"
            [placeholder]="'auth.password' | translate"
            [attr.aria-label]="'auth.password' | translate"
            autocomplete="current-password">
          
          @if (getFieldError('password')) {
            <div class="invalid-feedback d-block">
              {{ getFieldError('password') }}
            </div>
          }
        </div>

        <!-- Remember me checkbox (optional) -->
        <div class="form-check mb-3">
          <input 
            type="checkbox" 
            class="form-check-input" 
            id="rememberMe">
          <label class="form-check-label" for="rememberMe">
            {{ 'auth.rememberMe' | translate }}
          </label>
        </div>

        <!-- Submit button -->
        <button 
          type="submit" 
          class="btn btn-primary w-100 mb-3"
          [disabled]="loginForm.invalid || isLoading()">
          @if (isLoading()) {
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            <span>{{ 'common.loading' | translate }}</span>
          } @else {
            {{ 'auth.login' | translate }}
          }
        </button>
      </form>

      <!-- Error message (translated from API response) -->
      @if (error()) {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <i class="fas fa-exclamation-circle me-2"></i>
          <strong>{{ 'common.error' | translate }}:</strong>
          <!-- This error message comes from the API via AuthService -->
          {{ error() }}
        </div>
      }

      <!-- Footer links -->
      <div class="text-center mt-4">
        <p class="mb-0">
          <a href="/register" class="text-decoration-none">
            {{ 'auth.dontHaveAccount' | translate }}
          </a>
        </p>
        <p class="mb-0 mt-2">
          <a href="/forgot-password" class="text-decoration-none small text-muted">
            {{ 'auth.forgotPassword' | translate }}
          </a>
        </p>
      </div>
    </div>
  </div>
</div>