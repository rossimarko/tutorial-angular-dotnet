<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <!-- Header -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
          <h2 class="mb-1">
            @if (isEditMode()) {
              <i class="fas fa-edit me-2"></i>
              {{ 'projects.editProject' | translate }}
            } @else {
              <i class="fas fa-plus me-2"></i>
              {{ 'projects.createProject' | translate }}
            }
          </h2>
          <p class="text-muted mb-0">
            @if (isEditMode()) {
              {{ 'projects.editProjectDesc' | translate }}
            } @else {
              {{ 'projects.createProjectDesc' | translate }}
            }
          </p>
        </div>
      </div>

      <!-- Form Card -->
      <div class="card shadow-sm">
        <div class="card-body p-4">
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <!-- Title with Floating Label -->
            <app-text-input
              formControlName="title"
              [label]="'projects.projectTitle' | translate"
              controlName="title"
              [parentForm]="form"
              [required]="true"
              visualizationType="floating"
              [placeholder]="'projects.projectNamePlaceholder' | translate">
            </app-text-input>

            <!-- Description with Character Count -->
            <app-textarea-input
              formControlName="description"
              [label]="'projects.description' | translate"
              controlName="description"
              [parentForm]="form"
              visualizationType="standard"
              [rows]="4"
              [maxLength]="descriptionMaxLength"
              [showCharacterCount]="true"
              [placeholder]="'projects.descriptionPlaceholder' | translate">
            </app-textarea-input>

            <!-- Status and Priority Row -->
            <div class="row">
              <div class="col-md-6">
                <app-dropdown-input
                  formControlName="status"
                  [label]="'projects.status' | translate"
                  controlName="status"
                  [parentForm]="form"
                  [required]="true"
                  [options]="statusOptions"
                  visualizationType="standard">
                </app-dropdown-input>
              </div>

              <div class="col-md-6">
                <app-integer-input
                  formControlName="priority"
                  label="/5"
                  [fieldLabel]="'projects.priority' | translate"
                  controlName="priority"
                  [parentForm]="form"
                  [required]="true"
                  [min]="1"
                  [max]="5"
                  visualizationType="input-group"
                  inputGroupPosition="suffix">
                </app-integer-input>
              </div>
            </div>

            <!-- Dates Row -->
            <div class="row">
              <div class="col-md-6">
                <app-date-input
                  formControlName="startDate"
                  [label]="'projects.startDate' | translate"
                  controlName="startDate"
                  [parentForm]="form"
                  visualizationType="standard">
                </app-date-input>
              </div>

              <div class="col-md-6">
                <app-date-input
                  formControlName="dueDate"
                  [label]="'projects.dueDate' | translate"
                  controlName="dueDate"
                  [parentForm]="form"
                  visualizationType="standard">
                </app-date-input>
              </div>
            </div>

            <!-- Required Fields Notice -->
            <div class="alert alert-info mb-3">
              <i class="fas fa-info-circle me-2"></i>
              {{ 'common.requiredFieldIndicator' | translate }}
            </div>

            <!-- Form Actions -->
            <div class="d-flex justify-content-end gap-2">
              <button
                type="button"
                class="btn btn-outline-secondary"
                (click)="cancel()"
                [disabled]="loading()">
                <i class="fas fa-times me-2"></i>
                {{ 'common.cancel' | translate }}
              </button>
              <button
                type="submit"
                class="btn btn-primary"
                [disabled]="loading() || form.invalid">
                @if (loading()) {
                  <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                  {{ 'common.saving' | translate }}
                } @else {
                  <i class="fas fa-save me-2"></i>
                  @if (isEditMode()) {
                    {{ 'common.update' | translate }}
                  } @else {
                    {{ 'common.create' | translate }}
                  }
                }
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
